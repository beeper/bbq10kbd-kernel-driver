/dts-v1/;
/plugin/;

//#include <dt-bindings/gpio/meson-g12a-gpio.h>

/ {
	compatible = "radxa,zero", "amlogic,g12a";

    fragment@0 {
		target = <&gpio>;
		__overlay__ {
            kb_pins: kb_pins {
                amlogic,pins = <451>;  //GPIOH_8
                amlogic,function = <1>;
                amlogic,enable-output = <1>; //Input
                amlogic,pullup = <1>;
                amlogic,pullupen = <1>;
                phandle=<0x1>;
            };
		};
	};

    fragment@1 {
        target = <&vcc_5v>;
        __overlay__ {
            status = "disabled";
        };
    };

    fragment@2 {
        target = <&i2c3>;
        __overlay__ {
        /* needed to avoid dtc warning */
        #address-cells = <1>;
        #size-cells = <0>;
        status = "okay";

        bbq10kbd: bbq10kbd@1f {
            compatible = "bbq10kbd";
            reg = <0x1f>;

            gpio-controller;
            gpios = <&gpio 451 1>;

            interrupt-controller;
            irq-gpios = <&gpio 451 1>; 
            interrupts = <451 2>; // high-to-low edge triggered
            interrupt-parent = <&gpio_intc>;

            status = "okay";
          };
        };
    };
};
